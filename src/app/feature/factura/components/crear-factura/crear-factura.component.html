<br>

<div class="container">
  <form id="formulario">
    <div id="titulo">
      Facturación
    </div>
    <div class="container-fluid">
      <div class="row gutters-sm">
                <div class="col md-6 d-flex flex-column align-items-center text-center">
                  <img src="https://static.vecteezy.com/system/resources/thumbnails/002/318/271/small/user-profile-icon-free-vector.jpg" alt="Admin" class="rounded-circle" width="150">
                </div>
                <div class="col md-6">

                  <div class="col md-2">
                    <label for="idUsuario" class="text-secondary mb-1">ID </label>
                    <input type="text" disabled id="idUsuario" value="{{usuario.id}}">
                  </div>

                  <div class="col md-2">
                    <label for="nombreUsuario" class="text-secondary mb-1">Nombre </label>
                    <input type="text" disabled id="nombreUsuario" value="{{usuario.nombre}}">
                  </div>



                  <div class="col md-2">
                    <label for="fecha" class="text-secondary mb-1">Fecha de creación </label>
                    <input type="text" disabled id="fecha" value="{{usuario.fechaCreacion}}" >
                  </div>

                </div>
      </div>
      <div class="row">
        <label for="descripcion" class="text-secondary mb-1">Descripcion </label>
        <textarea class =" container-fluid" type="text" id="descripcion" #box (keyup)="setDescripcion(box.value)"></textarea>
      </div>
      <div class="row">
          <p class="text-secondary mb-1">Productos</p>
          <select (change)="onChange($event.target.value)" class="form-select container-fluid">
            <option selected>Elige los productos</option>
            <option *ngFor="let p of listaProductos;let i = index" [value]="i"> {{p.nombre}} </option>
          </select> 
      </div>

      <br>
      <table class="table table-striped table-bordered">
        <caption class="text-secondary small">
          Carrito de compras
        </caption>
        <thead>
            <tr>
                <th>ID</th>
                <th>Producto</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Acción</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let field of carritoCompras; let i = index">
                <td>
                    {{field.producto.id}}
                </td>
                <td>
                    {{field.producto.nombre}}
                </td>
                <td>
                   {{field.producto.precioUnitario}}
                </td>
                <td>
                    <input class="form-control" type="text" #box (keyup)="setCantidad(i,box.value)" value="1"/>
                </td>
                <td>
                    <button class="btn btn-danger btn-sm"  type="button" (click)="deleteFieldValue(i)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row">
          <p class="text-secondary mb-1">Total a pagar:</p> &nbsp;
          {{total}}
    </div>

    </div>
      <div class="d-flex justify-content-center">
        <button id="facturar" class="btn btn-secondary btn-sm" (click)="facturar()">Facturar</button>
      </div>
  </form>
</div>

